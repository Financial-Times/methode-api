<?xml version='1.0' encoding='utf-8'?>
<view autoCancelInterval="90" decomposeIntentions="false" isPersistable="true" isSticky="false" isVisible="true"
	  objectMode="viewconf" onunloadCancelJobs="true" refresh="300" template="dashboard.html">
	<label>DynPub MethodeAPI - Monitor</label>
	<module name="AccountBar" layoutPanel="appHeader"/>
	<module name="AppBar" layoutPanel="navigationHeader"/>
	<module name="Message" layoutPanel="messaging">
		<param name="clearOnJobDispatch">False</param>
		<param name="maxSize">0</param>
		<param name="filter">*</param>
	</module>
	<module name="TitleBar" layoutPanel="viewHeader"/>
	<module name="TimeRangePicker" layoutPanel="panel_row1_col1">
		<param name="default">Last 60 minutes</param>
		<param name="searchWhenChanged">True</param>

		<module name="HiddenSearch" autoRun="True">
			<param name="maxCount">1000000</param>
			<param name="maxEvents">1000000</param>
			<param name="search">source="/var/log/apps/methode-api-dw-access.log" | eval resptime_secs=dw_resptime/1000
				| eval InternalError=if(status > 399,"True","False")
				| sistats count perc95(resptime_secs) by host InternalError _time
			</param>

			<module name="JobProgressIndicator" autoRun="True">
				<module name="HiddenPostProcess" autoRun="True">
					<param name="search">| timechart count by host</param>
					<module name="HiddenChartFormatter" layoutPanel="panel_row2_col1_grp1"
							group="Traffic counts by host">
						<param name="legend.placement">right</param>
						<param name="groupLabel">Traffic counts by host</param>
						<param name="chart">area</param>
						<param name="chart.stackMode">stacked</param>
						<param name="charting.axisTitleX.visibility">collapsed</param>
						<param name="charting.axisTitleY.visibility">collapsed</param>
						<module name="FlashChart">
							<param name="width">100%</param>
							<param name="height">200px</param>
						</module>
					</module>
				</module>
			</module>

			<module name="JobProgressIndicator" autoRun="True">
				<module name="HiddenPostProcess" autoRun="True">
					<param name="search">| timechart perc95(resptime_secs) by host</param>
					<module name="HiddenChartFormatter" layoutPanel="panel_row2_col2_grp1"
							group="Response times by host (95th percentile)">
						<param name="legend.placement">right</param>
						<param name="groupLabel">Response times by host (95th percentile)</param>
						<param name="chart">line</param>
						<param name="chart.stackMode">stacked</param>
						<param name="charting.axisTitleX.visibility">collapsed</param>
						<param name="charting.axisTitleY.visibility">collapsed</param>
						<module name="FlashChart">
							<param name="width">100%</param>
							<param name="height">200px</param>
						</module>
					</module>
				</module>
			</module>

			<module name="JobProgressIndicator" autoRun="True">
				<module name="HiddenPostProcess" autoRun="True">
					<param name="search">| search InternalError=True|timechart count by host</param>
					<module name="HiddenChartFormatter" layoutPanel="panel_row2_col3_grp1"
							group="Errors by host">
						<param name="legend.placement">right</param>
						<param name="groupLabel">Errors by host</param>
						<param name="chart">area</param>
						<param name="chart.stackMode">stacked</param>
						<param name="charting.axisTitleX.visibility">collapsed</param>
						<param name="charting.axisTitleY.visibility">collapsed</param>
						<module name="FlashChart">
							<param name="width">100%</param>
							<param name="height">200px</param>
						</module>
					</module>
				</module>
			</module>

		</module>

	</module>

	<module name="HiddenSearch" layoutPanel="panel_row3_col1" autoRun="True" group="Traffic count by host 24h">
		<param name="search">index=summary_web search_name="Content Platform Methode API" |
			stats count perc95(resptime_secs) by orig_host InternalError _time |
			rename orig_host as host|rename perc95(resptime_secs) as resptime_secs</param>
		<param name="earliest">-24h</param>
		<param name="groupLabel">Traffic count by host 24h</param>

		<module name="JobProgressIndicator" autoRun="True">
			<module name="HiddenPostProcess" autoRun="True">
				<param name="search">| timechart count by host</param>
				<module name="HiddenChartFormatter" layoutPanel="panel_row3_col1_grp1"
						group="Traffic count by host 24h">
					<param name="legend.placement">right</param>
					<param name="groupLabel">Traffic count
						by host 24h</param>
					<param name="chart">line</param>
					<param name="chart.stackMode">stacked</param>
					<param name="charting.axisTitleX.visibility">collapsed</param>
					<param name="charting.axisTitleY.visibility">collapsed</param>
					<module name="FlashChart">
						<param name="width">100%</param>
						<param name="height">200px</param>
					</module>
				</module>
			</module>
		</module>

		<module name="JobProgressIndicator" autoRun="True">
			<module name="HiddenPostProcess" autoRun="True">
				<param name="search">| timechart perc95(resptime_secs) by host</param>
				<module name="HiddenChartFormatter" layoutPanel="panel_row4_col1_grp1"
						group="Response times by host (95th percentile) 24h">
					<param name="legend.placement">right</param>
					<param name="groupLabel">Response times by host (95th percentile) 24h</param>
					<param name="chart">line</param>
					<param name="chart.stackMode">stacked</param>
					<param name="charting.axisTitleX.visibility">collapsed</param>
					<param name="charting.axisTitleY.visibility">collapsed</param>
					<module name="FlashChart">
						<param name="width">100%</param>
						<param name="height">200px</param>
					</module>
				</module>
			</module>
		</module>

		<module name="JobProgressIndicator" autoRun="True">
			<module name="HiddenPostProcess" autoRun="True">
				<param name="search">| search InternalError=True|timechart count by host</param>
				<module name="HiddenChartFormatter" layoutPanel="panel_row5_col1_grp1"
						group="Errors by host 24h">
					<param name="legend.placement">right</param>
					<param name="groupLabel">Errors by host 24h</param>
					<param name="chart">area</param>
					<param name="chart.stackMode">stacked</param>
					<param name="charting.axisTitleX.visibility">collapsed</param>
					<param name="charting.axisTitleY.visibility">collapsed</param>
					<module name="FlashChart">
						<param name="width">100%</param>
						<param name="height">200px</param>
					</module>
				</module>
			</module>
		</module>

	</module>
</view>